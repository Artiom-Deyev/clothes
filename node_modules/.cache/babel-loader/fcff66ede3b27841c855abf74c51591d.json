{"remainingRequest":"/Users/artiomdeyev/Desktop/clothes-webstore/node_modules/thread-loader/dist/cjs.js!/Users/artiomdeyev/Desktop/clothes-webstore/node_modules/babel-loader/lib/index.js!/Users/artiomdeyev/Desktop/clothes-webstore/node_modules/eslint-loader/index.js??ref--14-0!/Users/artiomdeyev/Desktop/clothes-webstore/src/store/index.js","dependencies":[{"path":"/Users/artiomdeyev/Desktop/clothes-webstore/src/store/index.js","mtime":1662482341239},{"path":"/Users/artiomdeyev/Desktop/clothes-webstore/babel.config.js","mtime":1662482341188},{"path":"/Users/artiomdeyev/Desktop/clothes-webstore/node_modules/cache-loader/dist/cjs.js","mtime":1662483219611},{"path":"/Users/artiomdeyev/Desktop/clothes-webstore/node_modules/thread-loader/dist/cjs.js","mtime":1662483219506},{"path":"/Users/artiomdeyev/Desktop/clothes-webstore/node_modules/babel-loader/lib/index.js","mtime":1662483220927},{"path":"/Users/artiomdeyev/Desktop/clothes-webstore/node_modules/eslint-loader/index.js","mtime":1662483219938}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCBjcmVhdGVTdG9yZSh7CiAgc3RhdGU6IHsKICAgIGNhcnQ6IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjYXJ0IikpIHx8IFtdLAogICAgY2FydENvdW50OiBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY2FydENvdW50IikpIHx8IDAsCiAgICB0b3RhbFByaWNlOiBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY2FydENvdW50IikpIHx8IDAsCiAgICBzaGlwcGluZzogSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInNoaXBwaW5nIikpIHx8IHsKICAgICAgY291bnRyeTogIiIsCiAgICAgIGFkZHJlc3M6ICIiLAogICAgICBwb3N0Y29kZTogMAogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBBRERfVE9fQ0FSVDogZnVuY3Rpb24gQUREX1RPX0NBUlQoc3RhdGUsIHByb2R1Y3QpIHsKICAgICAgdmFyIGZvdW5kID0gc3RhdGUuY2FydC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT0gcHJvZHVjdC5pZDsKICAgICAgfSk7CgogICAgICBpZiAoZm91bmQpIHsKICAgICAgICBmb3VuZC5xdWFudGl0eSsrOwogICAgICAgIGZvdW5kLnRvdGFsUHJpY2UgPSBmb3VuZC5xdWFudGl0eSAqIGZvdW5kLnByaWNlOyAvLyBjb25zb2xlLmxvZyhmb3VuZC5xdWFudGl0eSk7CiAgICAgICAgLy8gY29uc29sZS5sb2coZm91bmQudG90YWxQcmljZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RhdGUuY2FydC5wdXNoKHByb2R1Y3QpOyAvL2NvbnNvbGUubG9nKHByb2R1Y3QudG90YWxQcmljZSk7CiAgICAgIH0KCiAgICAgIHN0YXRlLmNhcnRDb3VudCsrOwogICAgICBzdGF0ZS5jYXJ0LnRvdGFsUHJpY2UgPSBzdGF0ZS5jYXJ0LnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwcm9kdWN0KSB7CiAgICAgICAgcmV0dXJuIGFjYyArPSBwcm9kdWN0LnRvdGFsUHJpY2U7CiAgICAgIH0sIDApOwogICAgICBjb25zb2xlLmxvZyhzdGF0ZS5jYXJ0LnRvdGFsUHJpY2UsIHN0YXRlLmNhcnRbMF0pOwogICAgICB0aGlzLmNvbW1pdCgiU0FWRV9DQVJUIik7CiAgICB9LAogICAgU0FWRV9DQVJUOiBmdW5jdGlvbiBTQVZFX0NBUlQoc3RhdGUpIHsKICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjYXJ0IiwgSlNPTi5zdHJpbmdpZnkoc3RhdGUuY2FydCkpOwogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oImNhcnRDb3VudCIsIEpTT04uc3RyaW5naWZ5KHN0YXRlLmNhcnRDb3VudCkpOwogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInRvdGFsUHJpY2UiLCBKU09OLnN0cmluZ2lmeShzdGF0ZS50b3RhbFByaWNlKSk7CiAgICB9LAogICAgU0FWRV9TSElQUElORzogZnVuY3Rpb24gU0FWRV9TSElQUElORyhzdGF0ZSkgewogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInNoaXBwaW5nIiwgSlNPTi5zdHJpbmdpZnkoc3RhdGUuc2hpcHBpbmcpKTsKICAgIH0sCiAgICBSRU1PVkVfRlJPTV9DQVJUOiBmdW5jdGlvbiBSRU1PVkVfRlJPTV9DQVJUKHN0YXRlLCBwcm9kdWN0KSB7CiAgICAgIGlmIChzdGF0ZS5jYXJ0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgaW5kZXggPSBzdGF0ZS5jYXJ0LmZpbmRJbmRleChmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwuaWQgPT0gcHJvZHVjdC5pZDsKICAgICAgfSk7CiAgICAgIHZhciBpdGVtID0gc3RhdGUuY2FydFtpbmRleF07CgogICAgICBpZiAoaXRlbS5xdWFudGl0eSA+IDEpIHsKICAgICAgICBpdGVtLnF1YW50aXR5IC09IDE7CiAgICAgICAgaXRlbS50b3RhbFByaWNlID0gaXRlbS5xdWFudGl0eSAqIGl0ZW0ucHJpY2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RhdGUuY2FydC5zcGxpY2UoaXRlbSwgMSk7CiAgICAgIH0KCiAgICAgIHN0YXRlLmNhcnRDb3VudCAtPSAxOwogICAgICBzdGF0ZS5jYXJ0LnRvdGFsUHJpY2UgPSBzdGF0ZS5jYXJ0LnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwcm9kdWN0KSB7CiAgICAgICAgcmV0dXJuIGFjYyArPSBwcm9kdWN0LnRvdGFsUHJpY2U7CiAgICAgIH0sIDApOyAvL2NvbnNvbGUubG9nKGl0ZW0ucXVhbnRpdHksIHN0YXRlLmNhcnQudG90YWxQcmljZSk7CgogICAgICB0aGlzLmNvbW1pdCgiU0FWRV9DQVJUIik7CiAgICB9LAogICAgLy8gSU5DUkVBU0VfUVVBTlRJVFkoc3RhdGUsIHByb2R1Y3QsIHF1YW50aXR5KSB7CiAgICAvLyAgIGxldCBpbmRleCA9IHN0YXRlLmNhcnQuZmluZEluZGV4KChlbCkgPT4gZWwuaWQgPT0gcHJvZHVjdC5pZCk7CiAgICAvLyAgIGxldCBuID0gcXVhbnRpdHk7CiAgICAvLyAgIC8vY29uc29sZS5sb2coaW5kZXgsIG4pOwogICAgLy8gICAvL3RoaXMuY29tbWl0KCJTQVZFX0NBUlQiKTsKICAgIC8vIH0sCiAgICBDTEVBUl9DQVJUOiBmdW5jdGlvbiBDTEVBUl9DQVJUKHN0YXRlKSB7CiAgICAgIHN0YXRlLmNhcnQgPSBbXTsKICAgICAgc3RhdGUuY2FydENvdW50ID0gMDsKICAgICAgc3RhdGUudG90YWxQcmljZSA9IDA7CiAgICAgIHRoaXMuY29tbWl0KCJTQVZFX0NBUlQiKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHt9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["/Users/artiomdeyev/Desktop/clothes-webstore/src/store/index.js"],"names":["createStore","state","cart","JSON","parse","window","localStorage","getItem","cartCount","totalPrice","shipping","country","address","postcode","mutations","ADD_TO_CART","product","found","find","item","id","quantity","price","push","reduce","acc","console","log","commit","SAVE_CART","setItem","stringify","SAVE_SHIPPING","REMOVE_FROM_CART","length","index","findIndex","el","splice","CLEAR_CART","actions","modules"],"mappings":"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","sourcesContent":["import { createStore } from \"vuex\";\n\nexport default createStore({\n  state: {\n    cart: JSON.parse(window.localStorage.getItem(\"cart\")) || [],\n    cartCount: JSON.parse(window.localStorage.getItem(\"cartCount\")) || 0,\n    totalPrice: JSON.parse(window.localStorage.getItem(\"cartCount\")) || 0,\n    shipping: JSON.parse(window.localStorage.getItem(\"shipping\")) || {\n      country: \"\",\n      address: \"\",\n      postcode: 0,\n    },\n  },\n  mutations: {\n    ADD_TO_CART(state, product) {\n      let found = state.cart.find((item) => item.id == product.id);\n      if (found) {\n        found.quantity++;\n        found.totalPrice = found.quantity * found.price;\n        // console.log(found.quantity);\n        // console.log(found.totalPrice);\n      } else {\n        state.cart.push(product);\n        //console.log(product.totalPrice);\n      }\n      state.cartCount++;\n      state.cart.totalPrice = state.cart.reduce(\n        (acc, product) => (acc += product.totalPrice),\n        0\n      );\n      console.log(state.cart.totalPrice, state.cart[0]);\n      this.commit(\"SAVE_CART\");\n    },\n    SAVE_CART(state) {\n      window.localStorage.setItem(\"cart\", JSON.stringify(state.cart));\n      window.localStorage.setItem(\"cartCount\", JSON.stringify(state.cartCount));\n      window.localStorage.setItem(\n        \"totalPrice\",\n        JSON.stringify(state.totalPrice)\n      );\n    },\n    SAVE_SHIPPING(state) {\n      window.localStorage.setItem(\"shipping\", JSON.stringify(state.shipping));\n    },\n    REMOVE_FROM_CART(state, product) {\n      if (state.cart.length == 0) {\n        return;\n      }\n      let index = state.cart.findIndex((el) => el.id == product.id);\n\n      let item = state.cart[index];\n\n      if (item.quantity > 1) {\n        item.quantity -= 1;\n        item.totalPrice = item.quantity * item.price;\n      } else {\n        state.cart.splice(item, 1);\n      }\n\n      state.cartCount -= 1;\n      state.cart.totalPrice = state.cart.reduce(\n        (acc, product) => (acc += product.totalPrice),\n        0\n      );\n      //console.log(item.quantity, state.cart.totalPrice);\n\n      this.commit(\"SAVE_CART\");\n    },\n    // INCREASE_QUANTITY(state, product, quantity) {\n    //   let index = state.cart.findIndex((el) => el.id == product.id);\n\n    //   let n = quantity;\n\n    //   //console.log(index, n);\n\n    //   //this.commit(\"SAVE_CART\");\n    // },\n    CLEAR_CART(state) {\n      state.cart = [];\n      state.cartCount = 0;\n      state.totalPrice = 0;\n      this.commit(\"SAVE_CART\");\n    },\n  },\n  actions: {},\n  modules: {},\n});\n"]}]}